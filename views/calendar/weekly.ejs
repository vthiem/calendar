<!DOCTYPE html>
<html>

<head>
  <title><%= fullDate %></title>
  <link rel="stylesheet" href="./stylesheets/weeklystyle.css"></link>
  <script>
    var currentDate = new Date('<%= currentDay %>');
    var currWeekNum = <%=weekNum%>;
  </script>
  <script type = "text/javascript"
         src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script type="text/javascript" src="./javascripts/weekly.js"></script>
</head>

<body>

  <!--EVENT DETAILS POPUP-->
  <div id="eventdetailspopup">
    <button class="details" onclick="cancelEventDetails()">x</button>
    <!-- <button class="details" id="detailsUpd">update</button> -->
    <h1 id="detailsName">Event Name</h1>
    <p>Starting Date:  <span id="detailsSDate"></span></p>
    <p>Starting Time:  <span id="detailsSSTime"></span></p>
    <p>Ending Date:  <span id="detailsEDate"></span></p>
    <p>Ending Time:  <span id="detailsEETime"></span></p>
    <p>Details:  <span id="detailsDetails"></span></p>
    <p>Repeat Duration:  <span id="detailsRepeat"></span></p>
    <!--if weekly: add another p tag in js-->
  </div>

  <!--EDIT POPUP-->
  <div id="editpopup">
    <h1>Edit Event</h1>
    <form name="eventInputs" id="eventInputs" onsubmit="return false">
      <label>Event Title: <input type="text" name="eventName" required></label>
      <p><label>Start Date: <input type="date" name="eventStartDate" required></label>   <label>Start: <input type="time" name="eventStartTime" required></label></p>
      <p><label>End Date: <input type="date" name="eventEndDate" required></label>   <label>End: <input type="time" name="eventEndTime" required></label></p>
      <p><label>Details: <input type="text" name="eventDetails"></label></p>
      <p><label>Repeat: <input type="checkbox" name="eventRepeat" id="repeatOptionButton" onclick="repeatOption()"></label></p>
      <p><label>None: <input type="radio" name="repeat" value="none" checked disabled="true" id="repNone" onclick="resetWeekly()">   Weekly: <input type="radio" name="repeat" value="weekly" disabled="true" id="repWeekly" onclick="repWeeklyOptions()">   Monthly: <input type="radio" name="repeat" value="monthly" disabled="true" id="repMonthly" onclick="resetWeekly()"></label></p>
      <p><label><input type="checkbox" name="weeklySun" value="Sun" disabled="true" id="Sun">Sun <input type="checkbox" name="weeklyMon" value="Mon" disabled="true" id="Mon">Mon <input type="checkbox" name="weeklyTue" value="Tue" disabled="true" id="Tue">Tue <input type="checkbox" name="weeklyWed" value="Wed" disabled="true" id="Wed">Wed <input type="checkbox" name="weeklyThu" value="Thu" disabled="true" id="Thu">Thu <input type="checkbox" name="weeklyFri" value="Fri" disabled="true" id="Fri">Fri <input type="checkbox" name="weeklySat" value="Sat" disabled="true" id="Sat">Sat</label></p>
      <label><button type="submit" onclick="formHandling(false)">Submit</button></label>
      <!-- <p><label><input type="button" value="Submit" onsubmit="formHandling()"></label></p> -->
    </form>
    <button id="exitEdit" onclick="cancelEdit()">x</button>
  </div>

  <!--UPDATE EVENT-->
  <div id="updateevent">
    <h1>Edit Event</h1>
    <form name="updateInputs" id="updateInputs" onsubmit="return false">
      <label>Event Title: <input type="text" name="eventName"></label>
      <p><label>Start Date: <input type="date" name="eventStartDate"></label>   <label>Start: <input type="time" name="eventStartTime"></label></p>
      <p><label>End Date: <input type="date" name="eventEndDate"></label>   <label>End: <input type="time" name="eventEndTime"></label></p>
      <p><label>Details: <input type="text" name="eventDetails"></label></p>
      <p><label>Repeat: <input type="checkbox" name="eventRepeat" id="repeatOptionButton" onclick="repeatOption()"></label></p>
      <p><label>None: <input type="radio" name="repeat" value="none" checked disabled="true" id="repNone" onclick="resetWeekly()">   Weekly: <input type="radio" name="repeat" value="weekly" disabled="true" id="repWeekly" onclick="repWeeklyOptions()">   Monthly: <input type="radio" name="repeat" value="monthly" disabled="true" id="repMonthly" onclick="resetWeekly()"></label></p>
      <p><label><input type="checkbox" name="weeklySun" value="Sun" disabled="true" id="Sun">Sun <input type="checkbox" name="weeklyMon" value="Mon" disabled="true" id="Mon">Mon <input type="checkbox" name="weeklyTue" value="Tue" disabled="true" id="Tue">Tue <input type="checkbox" name="weeklyWed" value="Wed" disabled="true" id="Wed">Wed <input type="checkbox" name="weeklyThu" value="Thu" disabled="true" id="Thu">Thu <input type="checkbox" name="weeklyFri" value="Fri" disabled="true" id="Fri">Fri <input type="checkbox" name="weeklySat" value="Sat" disabled="true" id="Sat">Sat</label></p>
      <label><button type="submit" id="updSubmit" onclick="updateHandling()">Submit</button></label>
      <!-- <p><label><input type="button" value="Submit" onsubmit="formHandling()"></label></p> -->
    </form>
    <button id="exitUpd" onclick="cancelUpdate()">x</button>
  </div>

<!--WEEKLY VIEW-->
  <div id="weeklyview">
  <a href=<%=linkMonth%>><button id="monthViewButton">Back to Monthly View</button></a> <!--onclick="weekViewToMonthView()"-->
  <a href=<%=linktologout%>><button id="logout">Logout</button></a>
  <table class="view" id="weekTimeClick">
    <tr class="weekview">
      <th colspan="8">Week <%=weekNumHeader%></th>
    </tr>
    <tr class="weekdays">
      <td id="weekcellone"> </td>
      <td>SUN</td>
      <td>MON</td>
      <td>TUE</td>
      <td>WED</td>
      <td>THU</td>
      <td>FRI</td>
      <td>SAT</td>
    </tr>
    <tr id="weeklydates">
      <td class="timeslots">Time</td>
      <!-- <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td> -->
      <% for(var i=0; i<dates.length; i++) {%>
        <td data-date=<%=shortDates[i]%>><%=dates[i]%></td>
      <% } %>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">12:00 AM</td>
      <td data-time="24:00"> </td>
      <td data-time="24:00"> </td>
      <td data-time="24:00"> </td>
      <td data-time="24:00"> </td>
      <td data-time="24:00"> </td>
      <td data-time="24:00"> </td>
      <td data-time="24:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">1:00 AM</td>
      <td data-time="01:00"> </td>
      <td data-time="01:00"> </td>
      <td data-time="01:00"> </td>
      <td data-time="01:00"> </td>
      <td data-time="01:00"> </td>
      <td data-time="01:00"> </td>
      <td data-time="01:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">2:00 AM</td>
      <td data-time="02:00"> </td>
      <td data-time="02:00"> </td>
      <td data-time="02:00"> </td>
      <td data-time="02:00"> </td>
      <td data-time="02:00"> </td>
      <td data-time="02:00"> </td>
      <td data-time="02:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">3:00 AM</td>
      <td data-time="03:00"> </td>
      <td data-time="03:00"> </td>
      <td data-time="03:00"> </td>
      <td data-time="03:00"> </td>
      <td data-time="03:00"> </td>
      <td data-time="03:00"> </td>
      <td data-time="03:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">4:00 AM</td>
      <td data-time="04:00"> </td>
      <td data-time="04:00"> </td>
      <td data-time="04:00"> </td>
      <td data-time="04:00"> </td>
      <td data-time="04:00"> </td>
      <td data-time="04:00"> </td>
      <td data-time="04:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">5:00 AM</td>
      <td data-time="05:00"> </td>
      <td data-time="05:00"> </td>
      <td data-time="05:00"> </td>
      <td data-time="05:00"> </td>
      <td data-time="05:00"> </td>
      <td data-time="05:00"> </td>
      <td data-time="05:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">6:00 AM</td>
      <td data-time="06:00"> </td>
      <td data-time="06:00"> </td>
      <td data-time="06:00"> </td>
      <td data-time="06:00"> </td>
      <td data-time="06:00"> </td>
      <td data-time="06:00"> </td>
      <td data-time="06:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">7:00 AM</td>
      <td data-time="07:00"> </td>
      <td data-time="07:00"> </td>
      <td data-time="07:00"> </td>
      <td data-time="07:00"> </td>
      <td data-time="07:00"> </td>
      <td data-time="07:00"> </td>
      <td data-time="07:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">8:00 AM</td>
      <td data-time="08:00"> </td>
      <td data-time="08:00"> </td>
      <td data-time="08:00"> </td>
      <td data-time="08:00"> </td>
      <td data-time="08:00"> </td>
      <td data-time="08:00"> </td>
      <td data-time="08:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">9:00 AM</td>
      <td data-time="09:00"> </td>
      <td data-time="09:00"> </td>
      <td data-time="09:00"> </td>
      <td data-time="09:00"> </td>
      <td data-time="09:00"> </td>
      <td data-time="09:00"> </td>
      <td data-time="09:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">10:00 AM</td>
      <td data-time="10:00"> </td>
      <td data-time="10:00"> </td>
      <td data-time="10:00"> </td>
      <td data-time="10:00"> </td>
      <td data-time="10:00"> </td>
      <td data-time="10:00"> </td>
      <td data-time="10:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">11:00 AM</td>
      <td data-time="11:00"> </td>
      <td data-time="11:00"> </td>
      <td data-time="11:00"> </td>
      <td data-time="11:00"> </td>
      <td data-time="11:00"> </td>
      <td data-time="11:00"> </td>
      <td data-time="11:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">12:00 PM</td>
      <td data-time="12:00"> </td>
      <td data-time="12:00"> </td>
      <td data-time="12:00"> </td>
      <td data-time="12:00"> </td>
      <td data-time="12:00"> </td>
      <td data-time="12:00"> </td>
      <td data-time="12:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">1:00 PM</td>
      <td data-time="13:00"> </td>
      <td data-time="13:00"> </td>
      <td data-time="13:00"> </td>
      <td data-time="13:00"> </td>
      <td data-time="13:00"> </td>
      <td data-time="13:00"> </td>
      <td data-time="13:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">2:00 PM</td>
      <td data-time="14:00"> </td>
      <td data-time="14:00"> </td>
      <td data-time="14:00"> </td>
      <td data-time="14:00"> </td>
      <td data-time="14:00"> </td>
      <td data-time="14:00"> </td>
      <td data-time="14:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">3:00 PM</td>
      <td data-time="15:00"> </td>
      <td data-time="15:00"> </td>
      <td data-time="15:00"> </td>
      <td data-time="15:00"> </td>
      <td data-time="15:00"> </td>
      <td data-time="15:00"> </td>
      <td data-time="15:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">4:00 PM</td>
      <td data-time="16:00"> </td>
      <td data-time="16:00"> </td>
      <td data-time="16:00"> </td>
      <td data-time="16:00"> </td>
      <td data-time="16:00"> </td>
      <td data-time="16:00"> </td>
      <td data-time="16:00"> </td>
    </tr><tr class="weeklyevents">
      <td class="hours">5:00 PM</td>
      <td data-time="17:00"> </td>
      <td data-time="17:00"> </td>
      <td data-time="17:00"> </td>
      <td data-time="17:00"> </td>
      <td data-time="17:00"> </td>
      <td data-time="17:00"> </td>
      <td data-time="17:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">6:00 PM</td>
      <td data-time="18:00"> </td>
      <td data-time="18:00"> </td>
      <td data-time="18:00"> </td>
      <td data-time="18:00"> </td>
      <td data-time="18:00"> </td>
      <td data-time="18:00"> </td>
      <td data-time="18:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">7:00 PM</td>
      <td data-time="19:00"> </td>
      <td data-time="19:00"> </td>
      <td data-time="19:00"> </td>
      <td data-time="19:00"> </td>
      <td data-time="19:00"> </td>
      <td data-time="19:00"> </td>
      <td data-time="19:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">8:00 PM</td>
      <td data-time="20:00"> </td>
      <td data-time="20:00"> </td>
      <td data-time="20:00"> </td>
      <td data-time="20:00"> </td>
      <td data-time="20:00"> </td>
      <td data-time="20:00"> </td>
      <td data-time="20:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">9:00 PM</td>
      <td data-time="21:00"> </td>
      <td data-time="21:00"> </td>
      <td data-time="21:00"> </td>
      <td data-time="21:00"> </td>
      <td data-time="21:00"> </td>
      <td data-time="21:00"> </td>
      <td data-time="21:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">10:00 PM</td>
      <td data-time="22:00"> </td>
     <td data-time="22:00"> </td>
     <td data-time="22:00"> </td>
     <td data-time="22:00"> </td>
     <td data-time="22:00"> </td>
     <td data-time="22:00"> </td>
     <td data-time="22:00"> </td>
    </tr>
    <tr class="weeklyevents">
      <td class="hours">11:00 PM</td>
      <td data-time="23:00"> </td>
      <td data-time="23:00"> </td>
      <td data-time="23:00"> </td>
      <td data-time="23:00"> </td>
      <td data-time="23:00"> </td>
      <td data-time="23:00"> </td>
      <td data-time="23:00"> </td>
    </tr>
  </table>
</div>
</body>
</html>
